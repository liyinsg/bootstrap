From fde55019cf373a72b974ae4016605b4ed66bc55a Mon Sep 17 00:00:00 2001
From: Li Yin <yin1.li@intel.com>
Date: Tue, 12 Mar 2019 16:07:53 +0800
Subject: [PATCH] enable italic support for screen

---
 tty.c | 14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

diff --git a/tty.c b/tty.c
index 855f8e6a..65235a17 100644
--- a/tty.c
+++ b/tty.c
@@ -571,16 +571,10 @@ tty_putn(struct tty *tty, const void *buf, size_t len, u_int width)
 static void
 tty_set_italics(struct tty *tty)
 {
-	const char	*s;
-
-	if (tty_term_has(tty->term, TTYC_SITM)) {
-		s = options_get_string(global_options, "default-terminal");
-		if (strcmp(s, "screen") != 0 && strncmp(s, "screen-", 7) != 0) {
-			tty_putcode(tty, TTYC_SITM);
-			return;
-		}
-	}
-	tty_putcode(tty, TTYC_SMSO);
+	if (tty_term_has(tty->term, TTYC_SITM))
+		tty_putcode(tty, TTYC_SITM);
+	else
+		tty_putcode(tty, TTYC_SMSO);
 }
 
 void
-- 
2.20.1

